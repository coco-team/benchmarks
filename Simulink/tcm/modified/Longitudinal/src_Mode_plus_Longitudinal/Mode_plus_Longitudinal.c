#include <stdlib.h>
#include <assert.h>
#include "Mode_plus_Longitudinal.h"

/* C code generated by lustrec
   SVN version number f4186ce28f099e0bee6446f3bbdf13aac909e5f8
   Code is C99 compliant */
   
/* Imported nodes declarations */

/* Global constants (definitions) */

void Mode_plus_Longitudinal_reset (struct Mode_plus_Longitudinal_mem *self) {
  MODE_LOGIC_reset(self->ni_1);
  LONGITUDINAL_CONTROLLER_reset(self->ni_0);
  return;
}

void Mode_plus_Longitudinal_step (double HeadMode_1_1, double ailStick_1_1,
                                  double ElevStick_1_1, double AltMode_1_1,
                                  double FPAMode_1_1, double ATMode_1_1,
                                  double AltCmd_1_1, double Altitude_1_1,
                                  double CAS_1_1, double CASCmdMCP_1_1,
                                  double thetadegf_1_1, double qbdegf_1_1,
                                  double GS_ktsf_1_1, double hdot_fpsf_1_1,
                                  double tas_ktsf_1_1,
                                  double gamINS_degf_1_1, double FPACmd_1_1, 
                                  _Bool (*HeadEng_1_1), _Bool (*ATEng_2_1),
                                  double (*CASCmd_3_1), double (*ElevCmd_4_1),
                                  struct Mode_plus_Longitudinal_mem *self) {
  double LONGITUDINAL_CONTROLLER_1_1;
  _Bool MODE_LOGIC_1_1;
  _Bool MODE_LOGIC_2_1;
  _Bool MODE_LOGIC_3_1;
  _Bool MODE_LOGIC_4_1;
  double MODE_LOGIC_5_1;
  
  MODE_LOGIC_step (HeadMode_1_1, ailStick_1_1, ElevStick_1_1, AltMode_1_1, FPAMode_1_1, ATMode_1_1, AltCmd_1_1, Altitude_1_1, CAS_1_1, CASCmdMCP_1_1, &MODE_LOGIC_1_1, &MODE_LOGIC_2_1, &MODE_LOGIC_3_1, &MODE_LOGIC_4_1, &MODE_LOGIC_5_1, self->ni_1);
  LONGITUDINAL_CONTROLLER_step (FPACmd_1_1, MODE_LOGIC_2_1, MODE_LOGIC_3_1, AltCmd_1_1, Altitude_1_1, thetadegf_1_1, qbdegf_1_1, GS_ktsf_1_1, hdot_fpsf_1_1, tas_ktsf_1_1, gamINS_degf_1_1, CAS_1_1, ElevStick_1_1, &LONGITUDINAL_CONTROLLER_1_1, self->ni_0);
  *HeadEng_1_1 = MODE_LOGIC_1_1;
  *ElevCmd_4_1 = LONGITUDINAL_CONTROLLER_1_1;
  *CASCmd_3_1 = MODE_LOGIC_5_1;
  *ATEng_2_1 = MODE_LOGIC_4_1;
  return;
}

void MODE_LOGIC_reset (struct MODE_LOGIC_mem *self) {
  MODE_LOGIC_AltAndFPAMode_reset(self->ni_4);
  MODE_LOGIC_SpeedMode_reset(self->ni_3);
  MODE_LOGIC_HeadingMode_reset(self->ni_2);
  return;
}

void MODE_LOGIC_step (double HeadMode_1_1, double ailStick_1_1,
                      double elevStick_1_1, double AltMode_1_1,
                      double FPAMode_1_1, double ATMode_1_1,
                      double AltCmd_1_1, double Altitude_1_1, double CAS_1_1,
                      double CASCmdMCP_1_1, 
                      _Bool (*HeadEng_1_1), _Bool (*AltEng_2_1),
                      _Bool (*FPAEng_3_1), _Bool (*ATEng_4_1),
                      double (*CASCmd_5_1),
                      struct MODE_LOGIC_mem *self) {
  _Bool AltAndFPAMode_1_1;
  _Bool AltAndFPAMode_2_1;
  _Bool CompareToZero1_1_1;
  _Bool CompareToZero_1_1;
  _Bool HeadingMode_1_1;
  _Bool LogicalOperator_1_1;
  _Bool SpeedMode_1_1;
  double SpeedMode_2_1;
  
  CompareToZero_1_1 = (!(ailStick_1_1 == 0.));
  CompareToZero1_1_1 = (!(elevStick_1_1 == 0.));
  LogicalOperator_1_1 = (CompareToZero_1_1 || CompareToZero1_1_1);
  MODE_LOGIC_AltAndFPAMode_step (FPAMode_1_1, LogicalOperator_1_1, Altitude_1_1, AltCmd_1_1, AltMode_1_1, &AltAndFPAMode_1_1, &AltAndFPAMode_2_1, self->ni_4);
  MODE_LOGIC_SpeedMode_step (ATMode_1_1, 0., AltAndFPAMode_2_1, CAS_1_1, CASCmdMCP_1_1, &SpeedMode_1_1, &SpeedMode_2_1, self->ni_3);
  MODE_LOGIC_HeadingMode_step (HeadMode_1_1, LogicalOperator_1_1, &HeadingMode_1_1, self->ni_2);
  *HeadEng_1_1 = HeadingMode_1_1;
  *FPAEng_3_1 = AltAndFPAMode_2_1;
  *CASCmd_5_1 = SpeedMode_2_1;
  *AltEng_2_1 = AltAndFPAMode_1_1;
  *ATEng_4_1 = SpeedMode_1_1;
  return;
}

void LONGITUDINAL_CONTROLLER_reset (struct LONGITUDINAL_CONTROLLER_mem *self) {
  LONGITUDINAL_CONTROLLER_AltitudeControl_reset(self->ni_7);
  LONGITUDINAL_CONTROLLER_FPAControl_reset(self->ni_6);
  LONGITUDINAL_CONTROLLER_PitchInnerLoop_reset(self->ni_5);
  return;
}

void LONGITUDINAL_CONTROLLER_step (double FPACmd_1_1, _Bool AltEng_1_1,
                                   _Bool FpaEng_1_1, double AltCmd_1_1,
                                   double Alt_1_1, double thetaDeg_1_1,
                                   double qDeg_1_1, double GsKts_1_1,
                                   double hdot_1_1, double VT_1_1,
                                   double Gamma_1_1, double CAS_1_1,
                                   double ElevStick_1_1, 
                                   double (*ElevCmd_1_1),
                                   struct LONGITUDINAL_CONTROLLER_mem *self) {
  double AltitudeControl_1_1;
  double EngageORzero_1_1;
  double FPAControl_1_1;
  _Bool LogicalOperator_1_1;
  double ManualOverride_1_1;
  double PitchInnerLoop_1_1;
  double Sum7_1_1;
  double k2_1_1;
  double k5_1_1;
  
  LONGITUDINAL_CONTROLLER_AltitudeControl_step (AltEng_1_1, AltCmd_1_1, Alt_1_1, GsKts_1_1, hdot_1_1, &AltitudeControl_1_1, self->ni_7);
  k2_1_1 = (1. * AltitudeControl_1_1);
  Sum7_1_1 = (FPACmd_1_1 + k2_1_1);
  LONGITUDINAL_CONTROLLER_FPAControl_step (FpaEng_1_1, Sum7_1_1, Gamma_1_1, thetaDeg_1_1, VT_1_1, &FPAControl_1_1, self->ni_6);
  k5_1_1 = (1. * FPAControl_1_1);
  LONGITUDINAL_CONTROLLER_PitchInnerLoop_step (k5_1_1, thetaDeg_1_1, qDeg_1_1, CAS_1_1, &PitchInnerLoop_1_1, self->ni_5);
  LogicalOperator_1_1 = (AltEng_1_1 || FpaEng_1_1);
  LONGITUDINAL_CONTROLLER_EngageORzero_step (LogicalOperator_1_1, PitchInnerLoop_1_1, &EngageORzero_1_1);
  LONGITUDINAL_CONTROLLER_ManualOverride_step (ElevStick_1_1, EngageORzero_1_1, &ManualOverride_1_1);
  *ElevCmd_1_1 = ManualOverride_1_1;
  return;
}

void MODE_LOGIC_SpeedMode_reset (struct MODE_LOGIC_SpeedMode_mem *self) {
  _arrow_reset(self->ni_8);
  return;
}

void MODE_LOGIC_SpeedMode_step (double Actiavte_1_1, double Deactivate_1_1,
                                _Bool AltEng_1_1, double CAS_1_1,
                                double CASCmdMCP_1_1, 
                                _Bool (*ATEng_1_1), double (*CASCmd_2_1),
                                struct MODE_LOGIC_SpeedMode_mem *self) {
  int Add_1_1;
  _Bool CompareToConstant1_1_1;
  _Bool CompareToConstant_1_1;
  _Bool LogicalOperator2_1_1;
  _Bool LogicalOperator_1_1;
  _Bool SRFlipFlopRepl_dot__LogicalOperator1_1_1;
  _Bool SRFlipFlopRepl_dot__LogicalOperator2_1_1;
  _Bool SRFlipFlopRepl_dot__LogicalOperator3_1_1;
  _Bool SRFlipFlopRepl_dot__LogicalOperator_1_1;
  _Bool SRFlipFlopRepl_dot__UnitDelay1_1_1;
  _Bool SRFlipFlopRepl_dot__UnitDelay_1_1;
  double Switch1_1_1;
  double Switch_1_1;
  double UnitDelay2_1_1;
  int __MODE_LOGIC_SpeedMode_1;
  int __MODE_LOGIC_SpeedMode_2;
  _Bool __MODE_LOGIC_SpeedMode_3;
  _Bool __MODE_LOGIC_SpeedMode_4;
  _Bool __MODE_LOGIC_SpeedMode_5;
  
  _arrow_step (1, 0, &__MODE_LOGIC_SpeedMode_5, self->ni_8);
  CompareToConstant1_1_1 = (!(Actiavte_1_1 == 0.));
  if (CompareToConstant1_1_1) {
    __MODE_LOGIC_SpeedMode_2 = 1;
  } else {
    __MODE_LOGIC_SpeedMode_2 = 0;
  }
  if (__MODE_LOGIC_SpeedMode_5) {
    SRFlipFlopRepl_dot__UnitDelay_1_1 = 0;
  } else {
    SRFlipFlopRepl_dot__UnitDelay_1_1 = self->_reg.__MODE_LOGIC_SpeedMode_6;
  }
  CompareToConstant_1_1 = (!(Deactivate_1_1 == 0.));
  SRFlipFlopRepl_dot__LogicalOperator3_1_1 = (!CompareToConstant_1_1);
  SRFlipFlopRepl_dot__LogicalOperator_1_1 = (!(SRFlipFlopRepl_dot__UnitDelay_1_1 && SRFlipFlopRepl_dot__LogicalOperator3_1_1));
  LogicalOperator_1_1 = (AltEng_1_1 && SRFlipFlopRepl_dot__LogicalOperator_1_1);
  if (LogicalOperator_1_1) {
    __MODE_LOGIC_SpeedMode_1 = 1;
  } else {
    __MODE_LOGIC_SpeedMode_1 = 0;
  }
  Add_1_1 = (__MODE_LOGIC_SpeedMode_2 + __MODE_LOGIC_SpeedMode_1);
  __MODE_LOGIC_SpeedMode_4 = (Add_1_1 > 1);
  __MODE_LOGIC_SpeedMode_3 = (Add_1_1 >= 0);
  if (__MODE_LOGIC_SpeedMode_5) {
    UnitDelay2_1_1 = 0.;
  } else {
    UnitDelay2_1_1 = self->_reg.__MODE_LOGIC_SpeedMode_8;
  }
  if (__MODE_LOGIC_SpeedMode_4) {
    Switch1_1_1 = CASCmdMCP_1_1;
  } else {
    Switch1_1_1 = CAS_1_1;
  }
  if (__MODE_LOGIC_SpeedMode_3) {
    Switch_1_1 = UnitDelay2_1_1;
  } else {
    Switch_1_1 = Switch1_1_1;
  }
  self->_reg.__MODE_LOGIC_SpeedMode_8 = Switch_1_1;
  if (__MODE_LOGIC_SpeedMode_5) {
    SRFlipFlopRepl_dot__UnitDelay1_1_1 = 1;
  } else {
    SRFlipFlopRepl_dot__UnitDelay1_1_1 = self->_reg.__MODE_LOGIC_SpeedMode_7;
  }
  self->_reg.__MODE_LOGIC_SpeedMode_7 = SRFlipFlopRepl_dot__LogicalOperator_1_1;
  LogicalOperator2_1_1 = (CompareToConstant1_1_1 || LogicalOperator_1_1);
  SRFlipFlopRepl_dot__LogicalOperator2_1_1 = (!LogicalOperator2_1_1);
  SRFlipFlopRepl_dot__LogicalOperator1_1_1 = (!(SRFlipFlopRepl_dot__LogicalOperator2_1_1 && SRFlipFlopRepl_dot__UnitDelay1_1_1));
  self->_reg.__MODE_LOGIC_SpeedMode_6 = SRFlipFlopRepl_dot__LogicalOperator1_1_1;
  *CASCmd_2_1 = UnitDelay2_1_1;
  *ATEng_1_1 = SRFlipFlopRepl_dot__LogicalOperator1_1_1;
  return;
}

void MODE_LOGIC_HeadingMode_reset (struct MODE_LOGIC_HeadingMode_mem *self) {
  _arrow_reset(self->ni_9);
  return;
}

void MODE_LOGIC_HeadingMode_step (double Actiavte_1_1, _Bool Deactivate_1_1, 
                                  _Bool (*HeadEng_1_1),
                                  struct MODE_LOGIC_HeadingMode_mem *self) {
  _Bool CompareToConstant1_1_1;
  _Bool CompareToConstant_1_1;
  _Bool SRFlipFlopRepl_dot__LogicalOperator1_1_1;
  _Bool SRFlipFlopRepl_dot__LogicalOperator2_1_1;
  _Bool SRFlipFlopRepl_dot__LogicalOperator3_1_1;
  _Bool SRFlipFlopRepl_dot__LogicalOperator_1_1;
  _Bool SRFlipFlopRepl_dot__UnitDelay1_1_1;
  _Bool SRFlipFlopRepl_dot__UnitDelay_1_1;
  double __MODE_LOGIC_HeadingMode_1;
  _Bool __MODE_LOGIC_HeadingMode_2;
  
  _arrow_step (1, 0, &__MODE_LOGIC_HeadingMode_2, self->ni_9);
  if (Deactivate_1_1) {
    __MODE_LOGIC_HeadingMode_1 = 1.;
  } else {
    __MODE_LOGIC_HeadingMode_1 = 0.;
  }
  if (__MODE_LOGIC_HeadingMode_2) {
    SRFlipFlopRepl_dot__UnitDelay_1_1 = 0;
    SRFlipFlopRepl_dot__UnitDelay1_1_1 = 1;
  } else {
    SRFlipFlopRepl_dot__UnitDelay_1_1 = self->_reg.__MODE_LOGIC_HeadingMode_3;
    SRFlipFlopRepl_dot__UnitDelay1_1_1 = self->_reg.__MODE_LOGIC_HeadingMode_4;
  }
  CompareToConstant_1_1 = (!(__MODE_LOGIC_HeadingMode_1 == 0.));
  SRFlipFlopRepl_dot__LogicalOperator3_1_1 = (!CompareToConstant_1_1);
  SRFlipFlopRepl_dot__LogicalOperator_1_1 = (!(SRFlipFlopRepl_dot__UnitDelay_1_1 && SRFlipFlopRepl_dot__LogicalOperator3_1_1));
  self->_reg.__MODE_LOGIC_HeadingMode_4 = SRFlipFlopRepl_dot__LogicalOperator_1_1;
  CompareToConstant1_1_1 = (!(Actiavte_1_1 == 0.));
  SRFlipFlopRepl_dot__LogicalOperator2_1_1 = (!CompareToConstant1_1_1);
  SRFlipFlopRepl_dot__LogicalOperator1_1_1 = (!(SRFlipFlopRepl_dot__LogicalOperator2_1_1 && SRFlipFlopRepl_dot__UnitDelay1_1_1));
  self->_reg.__MODE_LOGIC_HeadingMode_3 = SRFlipFlopRepl_dot__LogicalOperator1_1_1;
  *HeadEng_1_1 = SRFlipFlopRepl_dot__LogicalOperator1_1_1;
  return;
}

void MODE_LOGIC_AltAndFPAMode_reset (struct MODE_LOGIC_AltAndFPAMode_mem *self) {
  _arrow_reset(self->ni_10);
  return;
}

void MODE_LOGIC_AltAndFPAMode_step (double ActiavteFPA_1_1,
                                    _Bool Deactivate_1_1,
                                    double Altitude_1_1, double AltCmd_1_1,
                                    double ActiavteAlt_1_1, 
                                    _Bool (*AltEng_1_1), _Bool (*FPAEng_2_1),
                                    struct MODE_LOGIC_AltAndFPAMode_mem *self) {
  double Abs_1_1;
  double Add_1_1;
  _Bool CompareToConstant1_1_1;
  _Bool CompareToConstant2_1_1;
  _Bool CompareToConstant3_1_1;
  _Bool CompareToConstant_1_1;
  _Bool LogicalOperator1_1_1;
  _Bool LogicalOperator2_1_1;
  _Bool LogicalOperator3_1_1;
  _Bool LogicalOperator4_1_1;
  _Bool LogicalOperator6_1_1;
  _Bool SRFlipFlopRepl_dot_1_LogicalOperator1_1_1;
  _Bool SRFlipFlopRepl_dot_1_LogicalOperator2_1_1;
  _Bool SRFlipFlopRepl_dot_1_LogicalOperator3_1_1;
  _Bool SRFlipFlopRepl_dot_1_LogicalOperator_1_1;
  _Bool SRFlipFlopRepl_dot_1_UnitDelay1_1_1;
  _Bool SRFlipFlopRepl_dot_1_UnitDelay_1_1;
  _Bool SRFlipFlopRepl_dot__LogicalOperator1_1_1;
  _Bool SRFlipFlopRepl_dot__LogicalOperator2_1_1;
  _Bool SRFlipFlopRepl_dot__LogicalOperator3_1_1;
  _Bool SRFlipFlopRepl_dot__LogicalOperator_1_1;
  _Bool SRFlipFlopRepl_dot__UnitDelay1_1_1;
  _Bool SRFlipFlopRepl_dot__UnitDelay_1_1;
  _Bool __MODE_LOGIC_AltAndFPAMode_1;
  double __MODE_LOGIC_AltAndFPAMode_2;
  _Bool __MODE_LOGIC_AltAndFPAMode_3;
  
  _arrow_step (1, 0, &__MODE_LOGIC_AltAndFPAMode_3, self->ni_10);
  if (Deactivate_1_1) {
    __MODE_LOGIC_AltAndFPAMode_2 = 1.;
  } else {
    __MODE_LOGIC_AltAndFPAMode_2 = 0.;
  }
  if (__MODE_LOGIC_AltAndFPAMode_3) {
    SRFlipFlopRepl_dot__UnitDelay_1_1 = 0;
    SRFlipFlopRepl_dot__UnitDelay1_1_1 = 1;
  } else {
    SRFlipFlopRepl_dot__UnitDelay_1_1 = self->_reg.__MODE_LOGIC_AltAndFPAMode_6;
    SRFlipFlopRepl_dot__UnitDelay1_1_1 = self->_reg.__MODE_LOGIC_AltAndFPAMode_7;
  }
  CompareToConstant_1_1 = (!(__MODE_LOGIC_AltAndFPAMode_2 == 0.));
  SRFlipFlopRepl_dot__LogicalOperator3_1_1 = (!CompareToConstant_1_1);
  SRFlipFlopRepl_dot__LogicalOperator_1_1 = (!(SRFlipFlopRepl_dot__UnitDelay_1_1 && SRFlipFlopRepl_dot__LogicalOperator3_1_1));
  self->_reg.__MODE_LOGIC_AltAndFPAMode_7 = SRFlipFlopRepl_dot__LogicalOperator_1_1;
  CompareToConstant1_1_1 = (!(ActiavteFPA_1_1 == 0.));
  SRFlipFlopRepl_dot__LogicalOperator2_1_1 = (!CompareToConstant1_1_1);
  SRFlipFlopRepl_dot__LogicalOperator1_1_1 = (!(SRFlipFlopRepl_dot__LogicalOperator2_1_1 && SRFlipFlopRepl_dot__UnitDelay1_1_1));
  self->_reg.__MODE_LOGIC_AltAndFPAMode_6 = SRFlipFlopRepl_dot__LogicalOperator1_1_1;
  if (__MODE_LOGIC_AltAndFPAMode_3) {
    SRFlipFlopRepl_dot_1_UnitDelay_1_1 = 0;
    SRFlipFlopRepl_dot_1_UnitDelay1_1_1 = 1;
  } else {
    SRFlipFlopRepl_dot_1_UnitDelay_1_1 = self->_reg.__MODE_LOGIC_AltAndFPAMode_4;
    SRFlipFlopRepl_dot_1_UnitDelay1_1_1 = self->_reg.__MODE_LOGIC_AltAndFPAMode_5;
  }
  SRFlipFlopRepl_dot_1_LogicalOperator3_1_1 = (!CompareToConstant_1_1);
  SRFlipFlopRepl_dot_1_LogicalOperator_1_1 = (!(SRFlipFlopRepl_dot_1_UnitDelay_1_1 && SRFlipFlopRepl_dot_1_LogicalOperator3_1_1));
  self->_reg.__MODE_LOGIC_AltAndFPAMode_5 = SRFlipFlopRepl_dot_1_LogicalOperator_1_1;
  CompareToConstant3_1_1 = (!(ActiavteAlt_1_1 == 0.));
  SRFlipFlopRepl_dot_1_LogicalOperator2_1_1 = (!CompareToConstant3_1_1);
  SRFlipFlopRepl_dot_1_LogicalOperator1_1_1 = (!(SRFlipFlopRepl_dot_1_LogicalOperator2_1_1 && SRFlipFlopRepl_dot_1_UnitDelay1_1_1));
  self->_reg.__MODE_LOGIC_AltAndFPAMode_4 = SRFlipFlopRepl_dot_1_LogicalOperator1_1_1;
  Add_1_1 = (Altitude_1_1 - AltCmd_1_1);
  __MODE_LOGIC_AltAndFPAMode_1 = (Add_1_1 >= 0.);
  if (__MODE_LOGIC_AltAndFPAMode_1) {
    Abs_1_1 = Add_1_1;
  } else {
    Abs_1_1 = (- Add_1_1);
  }
  CompareToConstant2_1_1 = (Abs_1_1 <= 200.);
  LogicalOperator6_1_1 = (!(SRFlipFlopRepl_dot_1_LogicalOperator1_1_1 && CompareToConstant2_1_1));
  LogicalOperator2_1_1 = (!SRFlipFlopRepl_dot__LogicalOperator1_1_1);
  LogicalOperator1_1_1 = (LogicalOperator2_1_1 || CompareToConstant2_1_1);
  LogicalOperator4_1_1 = (SRFlipFlopRepl_dot_1_LogicalOperator1_1_1 && LogicalOperator1_1_1);
  LogicalOperator3_1_1 = (SRFlipFlopRepl_dot__LogicalOperator1_1_1 && LogicalOperator6_1_1);
  *FPAEng_2_1 = LogicalOperator3_1_1;
  *AltEng_1_1 = LogicalOperator4_1_1;
  return;
}

void LONGITUDINAL_CONTROLLER_PitchInnerLoop_reset (struct LONGITUDINAL_CONTROLLER_PitchInnerLoop_mem *self) {
  LONGITUDINAL_CONTROLLER_PitchInnerLoop_TransferFunc_reset(self->ni_11);
  return;
}

void LONGITUDINAL_CONTROLLER_PitchInnerLoop_step (double PitchCmd_1_1,
                                                  double Pitch_1_1,
                                                  double qdeg_1_1,
                                                  double CAS_1_1, 
                                                  double (*ElevCmd_1_1),
                                                  struct LONGITUDINAL_CONTROLLER_PitchInnerLoop_mem *self) {
  double Kpitch_1_1;
  double Kwo_1_1;
  double Product_1_1;
  double Sum1_1_1;
  double Sum_1_1;
  double TransferFunc_1_1;
  double lookup1d_1_1;
  
  LONGITUDINAL_CONTROLLER_PitchInnerLoop_lookup1d_step (CAS_1_1, &lookup1d_1_1);
  LONGITUDINAL_CONTROLLER_PitchInnerLoop_TransferFunc_step (qdeg_1_1, &TransferFunc_1_1, self->ni_11);
  Sum_1_1 = (PitchCmd_1_1 - Pitch_1_1);
  Kwo_1_1 = (0.5 * TransferFunc_1_1);
  Kpitch_1_1 = (2. * Sum_1_1);
  Sum1_1_1 = ((- Kpitch_1_1) + Kwo_1_1);
  Product_1_1 = (Sum1_1_1 * lookup1d_1_1);
  *ElevCmd_1_1 = Product_1_1;
  return;
}

void LONGITUDINAL_CONTROLLER_ManualOverride_step (double Man_1_1,
                                                  double Auto_1_1, 
                                                  double (*Out_1_1)
                                                  ) {
  double Switch1_1_1;
  _Bool __LONGITUDINAL_CONTROLLER_ManualOverride_1;
  
  __LONGITUDINAL_CONTROLLER_ManualOverride_1 = (!(Man_1_1 == 0.));
  if (__LONGITUDINAL_CONTROLLER_ManualOverride_1) {
    Switch1_1_1 = Auto_1_1;
  } else {
    Switch1_1_1 = Man_1_1;
  }
  *Out_1_1 = Switch1_1_1;
  return;
}

void LONGITUDINAL_CONTROLLER_FPAControl_reset (struct LONGITUDINAL_CONTROLLER_FPAControl_mem *self) {
  LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_reset(self->ni_12);
  return;
}

void LONGITUDINAL_CONTROLLER_FPAControl_step (_Bool engage_1_1,
                                              double gamcmd_1_1,
                                              double gamma_1_1,
                                              double thetadeg_1_1,
                                              double VT_1_1, 
                                              double (*PitchCmd_1_1),
                                              struct LONGITUDINAL_CONTROLLER_FPAControl_mem *self) {
  double DynamicSaturation_1_1;
  double KIgamerr_1_1;
  double Kgamerr_1_1;
  _Bool LogicalOperator_1_1;
  double Product1_1_1;
  double Sum1_1_1;
  double Sum2_1_1;
  double Sum_1_1;
  double hddLimProduct_1_1;
  double integrator_reset_1_1;
  double kt2fps_1_1;
  double m1_1_1;
  
  kt2fps_1_1 = (1.6878 * VT_1_1);
  hddLimProduct_1_1 = (4.83 * 57.2958);
  Product1_1_1 = (hddLimProduct_1_1 * kt2fps_1_1);
  m1_1_1 = ((- 1.) * Product1_1_1);
  Kgamerr_1_1 = (1.4 * gamma_1_1);
  Sum_1_1 = (thetadeg_1_1 + Kgamerr_1_1);
  Sum2_1_1 = (gamcmd_1_1 - gamma_1_1);
  LogicalOperator_1_1 = (!engage_1_1);
  KIgamerr_1_1 = (1. * Sum2_1_1);
  LONGITUDINAL_CONTROLLER_FPAControl_DynamicSaturation_step (Product1_1_1, KIgamerr_1_1, m1_1_1, &DynamicSaturation_1_1);
  LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_step (DynamicSaturation_1_1, LogicalOperator_1_1, Sum_1_1, &integrator_reset_1_1, self->ni_12);
  Sum1_1_1 = (integrator_reset_1_1 - Kgamerr_1_1);
  *PitchCmd_1_1 = Sum1_1_1;
  return;
}

void LONGITUDINAL_CONTROLLER_EngageORzero_step (_Bool Engage_1_1,
                                                double In_1_1, 
                                                double (*Out_1_1)
                                                ) {
  _Bool LogicalOperator5_1_1;
  double Switch1_1_1;
  _Bool __LONGITUDINAL_CONTROLLER_EngageORzero_1;
  _Bool __LONGITUDINAL_CONTROLLER_EngageORzero_2;
  double __LONGITUDINAL_CONTROLLER_EngageORzero_3;
  _Bool __LONGITUDINAL_CONTROLLER_EngageORzero_4;
  
  __LONGITUDINAL_CONTROLLER_EngageORzero_1 = (1. == 0.);
  if (__LONGITUDINAL_CONTROLLER_EngageORzero_1) {
    __LONGITUDINAL_CONTROLLER_EngageORzero_2 = 0;
  } else {
    __LONGITUDINAL_CONTROLLER_EngageORzero_2 = 1;
  }
  LogicalOperator5_1_1 = (Engage_1_1 && __LONGITUDINAL_CONTROLLER_EngageORzero_2);
  if (LogicalOperator5_1_1) {
    __LONGITUDINAL_CONTROLLER_EngageORzero_3 = 1.;
  } else {
    __LONGITUDINAL_CONTROLLER_EngageORzero_3 = 0.;
  }
  __LONGITUDINAL_CONTROLLER_EngageORzero_4 = (__LONGITUDINAL_CONTROLLER_EngageORzero_3 >= 0.5);
  if (__LONGITUDINAL_CONTROLLER_EngageORzero_4) {
    Switch1_1_1 = In_1_1;
  } else {
    Switch1_1_1 = 0.;
  }
  *Out_1_1 = Switch1_1_1;
  return;
}

void LONGITUDINAL_CONTROLLER_AltitudeControl_reset (struct LONGITUDINAL_CONTROLLER_AltitudeControl_mem *self) {
  LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_reset(self->ni_13);
  return;
}

void LONGITUDINAL_CONTROLLER_AltitudeControl_step (_Bool engage_1_1,
                                                   double AltCmd_1_1,
                                                   double Altitude_1_1,
                                                   double gskts_1_1,
                                                   double hdot_1_1, 
                                                   double (*altgamcmd_1_1),
                                                   struct LONGITUDINAL_CONTROLLER_AltitudeControl_mem *self) {
  double Abs_1_1;
  double Divide_1_1;
  double Kh_1_1;
  _Bool LogicalOperator_1_1;
  double Saturation1_1_1;
  double Sum3_1_1;
  double Sum_1_1;
  double Switch_1_1;
  double VariableLimitSaturation_1_1;
  double VariableRateLimit_1_1;
  _Bool __LONGITUDINAL_CONTROLLER_AltitudeControl_1;
  double __LONGITUDINAL_CONTROLLER_AltitudeControl_2;
  _Bool __LONGITUDINAL_CONTROLLER_AltitudeControl_3;
  double k_1_1;
  double kts2fps_1_1;
  double r2d_1_1;
  
  kts2fps_1_1 = (1.6878 * gskts_1_1);
  __LONGITUDINAL_CONTROLLER_AltitudeControl_1 = (hdot_1_1 >= 0.);
  if (__LONGITUDINAL_CONTROLLER_AltitudeControl_1) {
    Abs_1_1 = hdot_1_1;
  } else {
    Abs_1_1 = (- hdot_1_1);
  }
  Sum3_1_1 = (Abs_1_1 + 10.);
  k_1_1 = ((- 1.) * Sum3_1_1);
  if (engage_1_1) {
    __LONGITUDINAL_CONTROLLER_AltitudeControl_2 = 1.;
  } else {
    __LONGITUDINAL_CONTROLLER_AltitudeControl_2 = 0.;
  }
  __LONGITUDINAL_CONTROLLER_AltitudeControl_3 = (__LONGITUDINAL_CONTROLLER_AltitudeControl_2 >= 0.);
  Sum_1_1 = (AltCmd_1_1 - Altitude_1_1);
  Kh_1_1 = (0.08 * Sum_1_1);
  if (__LONGITUDINAL_CONTROLLER_AltitudeControl_3) {
    Switch_1_1 = Kh_1_1;
  } else {
    Switch_1_1 = 0.;
  }
  LONGITUDINAL_CONTROLLER_AltitudeControl_VariableLimitSaturation_step (Sum3_1_1, Switch_1_1, k_1_1, &VariableLimitSaturation_1_1);
  LogicalOperator_1_1 = (!engage_1_1);
  LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_step (3.2, VariableLimitSaturation_1_1, LogicalOperator_1_1, hdot_1_1, &VariableRateLimit_1_1, self->ni_13);
  LONGITUDINAL_CONTROLLER_AltitudeControl_Saturation1_step (kts2fps_1_1, &Saturation1_1_1);
  Divide_1_1 = (VariableRateLimit_1_1 / Saturation1_1_1);
  r2d_1_1 = (57.2958 * Divide_1_1);
  *altgamcmd_1_1 = r2d_1_1;
  return;
}

void LONGITUDINAL_CONTROLLER_PitchInnerLoop_lookup1d_step (double In1_1_1, 
                                                           double (*Out1_1_1)
                                                           ) {
  double Add_1_1;
  double __LONGITUDINAL_CONTROLLER_PitchInnerLoop_lookup1d_1;
  double __LONGITUDINAL_CONTROLLER_PitchInnerLoop_lookup1d_2;
  double __LONGITUDINAL_CONTROLLER_PitchInnerLoop_lookup1d_3;
  double __LONGITUDINAL_CONTROLLER_PitchInnerLoop_lookup1d_4;
  double __LONGITUDINAL_CONTROLLER_PitchInnerLoop_lookup1d_5;
  double __LONGITUDINAL_CONTROLLER_PitchInnerLoop_lookup1d_6;
  double branch_sharp_1_1_1;
  double branch_sharp_2_1_1;
  double branch_sharp_3_1_1;
  _Bool gte1_1_1;
  _Bool gte2_1_1;
  _Bool gte3_1_1;
  double interpolate1d_sharp_0_1_1;
  double interpolate1d_sharp_1_1_1;
  double interpolate1d_sharp_2_1_1;
  _Bool lte1_1_1;
  _Bool lte2_1_1;
  _Bool lte3_1_1;
  
  lte3_1_1 = (In1_1_1 > 350.);
  lte2_1_1 = (In1_1_1 > 120.);
  lte1_1_1 = (In1_1_1 >= 0.);
  LONGITUDINAL_CONTROLLER_PitchInnerLoop_lookup1d_interpolate1d_sharp_2_step (In1_1_1, 350., 500., 0.3, 0.3, &interpolate1d_sharp_2_1_1);
  LONGITUDINAL_CONTROLLER_PitchInnerLoop_lookup1d_interpolate1d_sharp_1_step (In1_1_1, 120., 350., 1., 0.3, &interpolate1d_sharp_1_1_1);
  LONGITUDINAL_CONTROLLER_PitchInnerLoop_lookup1d_interpolate1d_sharp_0_step (In1_1_1, 0., 120., 1., 1., &interpolate1d_sharp_0_1_1);
  gte3_1_1 = (In1_1_1 <= 500.);
  gte2_1_1 = (In1_1_1 <= 350.);
  gte1_1_1 = (In1_1_1 <= 120.);
  if (lte3_1_1) {
    __LONGITUDINAL_CONTROLLER_PitchInnerLoop_lookup1d_6 = 1.;
  } else {
    __LONGITUDINAL_CONTROLLER_PitchInnerLoop_lookup1d_6 = 0.;
  }
  if (gte3_1_1) {
    __LONGITUDINAL_CONTROLLER_PitchInnerLoop_lookup1d_5 = 1.;
  } else {
    __LONGITUDINAL_CONTROLLER_PitchInnerLoop_lookup1d_5 = 0.;
  }
  branch_sharp_3_1_1 = ((interpolate1d_sharp_2_1_1 * __LONGITUDINAL_CONTROLLER_PitchInnerLoop_lookup1d_6) * __LONGITUDINAL_CONTROLLER_PitchInnerLoop_lookup1d_5);
  if (lte2_1_1) {
    __LONGITUDINAL_CONTROLLER_PitchInnerLoop_lookup1d_4 = 1.;
  } else {
    __LONGITUDINAL_CONTROLLER_PitchInnerLoop_lookup1d_4 = 0.;
  }
  if (gte2_1_1) {
    __LONGITUDINAL_CONTROLLER_PitchInnerLoop_lookup1d_3 = 1.;
  } else {
    __LONGITUDINAL_CONTROLLER_PitchInnerLoop_lookup1d_3 = 0.;
  }
  branch_sharp_2_1_1 = ((interpolate1d_sharp_1_1_1 * __LONGITUDINAL_CONTROLLER_PitchInnerLoop_lookup1d_4) * __LONGITUDINAL_CONTROLLER_PitchInnerLoop_lookup1d_3);
  if (lte1_1_1) {
    __LONGITUDINAL_CONTROLLER_PitchInnerLoop_lookup1d_2 = 1.;
  } else {
    __LONGITUDINAL_CONTROLLER_PitchInnerLoop_lookup1d_2 = 0.;
  }
  if (gte1_1_1) {
    __LONGITUDINAL_CONTROLLER_PitchInnerLoop_lookup1d_1 = 1.;
  } else {
    __LONGITUDINAL_CONTROLLER_PitchInnerLoop_lookup1d_1 = 0.;
  }
  branch_sharp_1_1_1 = ((interpolate1d_sharp_0_1_1 * __LONGITUDINAL_CONTROLLER_PitchInnerLoop_lookup1d_2) * __LONGITUDINAL_CONTROLLER_PitchInnerLoop_lookup1d_1);
  Add_1_1 = ((branch_sharp_1_1_1 + branch_sharp_2_1_1) + branch_sharp_3_1_1);
  *Out1_1_1 = Add_1_1;
  return;
}

void LONGITUDINAL_CONTROLLER_PitchInnerLoop_TransferFunc_reset (struct LONGITUDINAL_CONTROLLER_PitchInnerLoop_TransferFunc_mem *self) {
  _arrow_reset(self->ni_14);
  return;
}

void LONGITUDINAL_CONTROLLER_PitchInnerLoop_TransferFunc_step (double u_1_1, 
                                                               double (*y_1_1),
                                                               struct LONGITUDINAL_CONTROLLER_PitchInnerLoop_TransferFunc_mem *self) {
  _Bool __LONGITUDINAL_CONTROLLER_PitchInnerLoop_TransferFunc_1;
  double a_sharp_1_1_1;
  double b0_sharp_0_1_1;
  double b0_sharp_1_1_1;
  double delay_sharp_1_1_1;
  double output_sum_1_1;
  double sample_sharp_1_1_1;
  double sum11_1_1;
  double sum21_1_1;
  
  _arrow_step (1, 0, &__LONGITUDINAL_CONTROLLER_PitchInnerLoop_TransferFunc_1, self->ni_14);
  if (__LONGITUDINAL_CONTROLLER_PitchInnerLoop_TransferFunc_1) {
    delay_sharp_1_1_1 = 0.;
  } else {
    delay_sharp_1_1_1 = self->_reg.__LONGITUDINAL_CONTROLLER_PitchInnerLoop_TransferFunc_2;
  }
  a_sharp_1_1_1 = (0.0625 * delay_sharp_1_1_1);
  b0_sharp_1_1_1 = ((- 1.) * a_sharp_1_1_1);
  b0_sharp_0_1_1 = (1. * u_1_1);
  output_sum_1_1 = (b0_sharp_0_1_1 + b0_sharp_1_1_1);
  *y_1_1 = output_sum_1_1;
  sum11_1_1 = (u_1_1 - a_sharp_1_1_1);
  sample_sharp_1_1_1 = (0.02 * sum11_1_1);
  sum21_1_1 = (sample_sharp_1_1_1 + delay_sharp_1_1_1);
  self->_reg.__LONGITUDINAL_CONTROLLER_PitchInnerLoop_TransferFunc_2 = sum21_1_1;
  return;
}

void LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_reset (struct LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_mem *self) {
  _arrow_reset(self->ni_15);
  return;
}

void LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_step (double f_lpar_x_rpar__1_1,
                                                               _Bool reset_level_1_1,
                                                               double x0_1_1, 
                                                               double (*F_lpar_x_rpar__1_1),
                                                               struct LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_mem *self) {
  double Add_1_1;
  double Gain1_1_1;
  double Product1_1_1;
  double Product2_1_1;
  double Product_1_1;
  double Sum1_1_1;
  double Sum2_1_1;
  double Sum3_1_1;
  double Sum4_1_1;
  double __LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_1;
  double __LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_2;
  double __LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_3;
  _Bool __LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_4;
  double __LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_8;
  double __LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_9;
  double delay_sharp_1_1_1;
  double delay_sharp_2_1_1;
  _Bool delay_sharp_3_1_1;
  _Bool eq0_1_1;
  _Bool ne0_1_1;
  _Bool ne1_1_1;
  
  _arrow_step (1, 0, &__LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_4, self->ni_15);
  if (__LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_4) {
    delay_sharp_3_1_1 = 0;
  } else {
    delay_sharp_3_1_1 = self->_reg.__LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_7;
  }
  if (delay_sharp_3_1_1) {
    __LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_9 = 1.;
  } else {
    __LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_9 = 0.;
  }
  ne1_1_1 = (!(__LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_9 == 0.));
  if (reset_level_1_1) {
    __LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_8 = 1.;
  } else {
    __LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_8 = 0.;
  }
  ne0_1_1 = (!(__LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_8 == 0.));
  eq0_1_1 = (__LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_8 == 0.);
  if (__LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_4) {
    delay_sharp_2_1_1 = 0.;
    delay_sharp_1_1_1 = 1.;
  } else {
    delay_sharp_2_1_1 = self->_reg.__LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_6;
    delay_sharp_1_1_1 = self->_reg.__LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_5;
  }
  self->_reg.__LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_7 = reset_level_1_1;
  if (eq0_1_1) {
    __LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_3 = 1.;
  } else {
    __LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_3 = 0.;
  }
  if (ne1_1_1) {
    __LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_2 = 1.;
  } else {
    __LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_2 = 0.;
  }
  if (ne0_1_1) {
    __LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_1 = 1.;
  } else {
    __LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_1 = 0.;
  }
  Sum3_1_1 = ((- delay_sharp_2_1_1) + x0_1_1);
  Product2_1_1 = ((__LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_3 * Sum3_1_1) * __LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_2);
  Product1_1_1 = (Sum3_1_1 * __LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_1);
  Add_1_1 = (Product1_1_1 + Product2_1_1);
  Sum4_1_1 = (delay_sharp_2_1_1 + Add_1_1);
  Product_1_1 = (x0_1_1 * delay_sharp_1_1_1);
  Sum2_1_1 = (Sum4_1_1 + Product_1_1);
  Gain1_1_1 = (1. * f_lpar_x_rpar__1_1);
  Sum1_1_1 = (Gain1_1_1 + Sum2_1_1);
  self->_reg.__LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_6 = Sum1_1_1;
  self->_reg.__LONGITUDINAL_CONTROLLER_FPAControl_integrator_reset_5 = 0.;
  *F_lpar_x_rpar__1_1 = delay_sharp_2_1_1;
  return;
}

void LONGITUDINAL_CONTROLLER_FPAControl_DynamicSaturation_step (double up_1_1,
                                                                double u_1_1,
                                                                double lo_1_1,
                                                                
                                                                double (*y1_1_1)
                                                                ) {
  _Bool LowerRelop1_1_1;
  double Switch2_1_1;
  double Switch_1_1;
  _Bool UpperRelop_1_1;
  
  UpperRelop_1_1 = (u_1_1 < lo_1_1);
  if (UpperRelop_1_1) {
    Switch_1_1 = lo_1_1;
  } else {
    Switch_1_1 = u_1_1;
  }
  LowerRelop1_1_1 = (u_1_1 > up_1_1);
  if (LowerRelop1_1_1) {
    Switch2_1_1 = up_1_1;
  } else {
    Switch2_1_1 = Switch_1_1;
  }
  *y1_1_1 = Switch2_1_1;
  return;
}

void LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_reset (
  struct LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_mem *self) {
  _arrow_reset(self->ni_16);
  return;
}

void LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_step (
  double ratelim_1_1, double input_1_1, _Bool ICtrig_1_1, double IC_1_1, 
  double (*output_1_1),
  struct LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_mem *self) {
  double Gain1_1_1;
  double Gain_1_1;
  double Sum2_1_1;
  double VariableLimitSaturation_1_1;
  double __LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_1;
  double __LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_2;
  double __LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_3;
  _Bool __LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_4;
  double __LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_8;
  double __LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_9;
  double integrator_reset_Add_1_1;
  double integrator_reset_Gain1Reset_1_1;
  double integrator_reset_Product1_1_1;
  double integrator_reset_Product2_1_1;
  double integrator_reset_Product_1_1;
  double integrator_reset_Sum1_1_1;
  double integrator_reset_Sum2Reset_1_1;
  double integrator_reset_Sum3_1_1;
  double integrator_reset_Sum4_1_1;
  double integrator_reset_delay_sharp_1_1_1;
  double integrator_reset_delay_sharp_2_1_1;
  _Bool integrator_reset_delay_sharp_3_1_1;
  _Bool integrator_reset_eq0_1_1;
  _Bool integrator_reset_ne0_1_1;
  _Bool integrator_reset_ne1_1_1;
  
  _arrow_step (1, 0, &__LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_4, self->ni_16);
  if (__LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_4) {
    integrator_reset_delay_sharp_2_1_1 = 0.;
  } else {
    integrator_reset_delay_sharp_2_1_1 = self->_reg.__LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_6;
  }
  *output_1_1 = integrator_reset_delay_sharp_2_1_1;
  if (__LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_4) {
    integrator_reset_delay_sharp_3_1_1 = 0;
  } else {
    integrator_reset_delay_sharp_3_1_1 = self->_reg.__LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_7;
  }
  if (integrator_reset_delay_sharp_3_1_1) {
    __LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_9 = 1.;
  } else {
    __LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_9 = 0.;
  }
  integrator_reset_ne1_1_1 = (!(__LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_9 == 0.));
  if (ICtrig_1_1) {
    __LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_8 = 1.;
  } else {
    __LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_8 = 0.;
  }
  integrator_reset_ne0_1_1 = (!(__LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_8 == 0.));
  integrator_reset_eq0_1_1 = (__LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_8 == 0.);
  if (__LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_4) {
    integrator_reset_delay_sharp_1_1_1 = 1.;
  } else {
    integrator_reset_delay_sharp_1_1_1 = self->_reg.__LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_5;
  }
  integrator_reset_Sum3_1_1 = ((- integrator_reset_delay_sharp_2_1_1) + IC_1_1);
  if (integrator_reset_eq0_1_1) {
    __LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_3 = 1.;
  } else {
    __LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_3 = 0.;
  }
  if (integrator_reset_ne1_1_1) {
    __LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_2 = 1.;
  } else {
    __LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_2 = 0.;
  }
  integrator_reset_Product2_1_1 = ((__LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_3 * integrator_reset_Sum3_1_1) * __LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_2);
  if (integrator_reset_ne0_1_1) {
    __LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_1 = 1.;
  } else {
    __LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_1 = 0.;
  }
  integrator_reset_Product1_1_1 = (integrator_reset_Sum3_1_1 * __LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_1);
  integrator_reset_Add_1_1 = (integrator_reset_Product1_1_1 + integrator_reset_Product2_1_1);
  integrator_reset_Sum4_1_1 = (integrator_reset_delay_sharp_2_1_1 + integrator_reset_Add_1_1);
  integrator_reset_Product_1_1 = (IC_1_1 * integrator_reset_delay_sharp_1_1_1);
  integrator_reset_Sum2Reset_1_1 = (integrator_reset_Sum4_1_1 + integrator_reset_Product_1_1);
  Sum2_1_1 = (input_1_1 - integrator_reset_delay_sharp_2_1_1);
  Gain_1_1 = (20. * Sum2_1_1);
  Gain1_1_1 = ((- 1.) * ratelim_1_1);
  LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_VariableLimitSaturation_step (ratelim_1_1, Gain_1_1, Gain1_1_1, &VariableLimitSaturation_1_1);
  integrator_reset_Gain1Reset_1_1 = (1. * VariableLimitSaturation_1_1);
  integrator_reset_Sum1_1_1 = (integrator_reset_Gain1Reset_1_1 + integrator_reset_Sum2Reset_1_1);
  self->_reg.__LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_7 = ICtrig_1_1;
  self->_reg.__LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_6 = integrator_reset_Sum1_1_1;
  self->_reg.__LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_5 = 0.;
  return;
}

void LONGITUDINAL_CONTROLLER_AltitudeControl_VariableLimitSaturation_step (
  double up_lim_1_1, double SigIn_1_1, double Lo_lim_1_1, 
  double (*Out1_1_1)
  ) {
  double Enforcelowlim_1_1;
  double Enforceuplim_1_1;
  _Bool __LONGITUDINAL_CONTROLLER_AltitudeControl_VariableLimitSaturation_1;
  _Bool __LONGITUDINAL_CONTROLLER_AltitudeControl_VariableLimitSaturation_2;
  
  __LONGITUDINAL_CONTROLLER_AltitudeControl_VariableLimitSaturation_1 = (Lo_lim_1_1 >= SigIn_1_1);
  if (__LONGITUDINAL_CONTROLLER_AltitudeControl_VariableLimitSaturation_1) {
    Enforcelowlim_1_1 = Lo_lim_1_1;
  } else {
    Enforcelowlim_1_1 = SigIn_1_1;
  }
  __LONGITUDINAL_CONTROLLER_AltitudeControl_VariableLimitSaturation_2 = (Enforcelowlim_1_1 <= up_lim_1_1);
  if (__LONGITUDINAL_CONTROLLER_AltitudeControl_VariableLimitSaturation_2) {
    Enforceuplim_1_1 = Enforcelowlim_1_1;
  } else {
    Enforceuplim_1_1 = up_lim_1_1;
  }
  *Out1_1_1 = Enforceuplim_1_1;
  return;
}

void LONGITUDINAL_CONTROLLER_AltitudeControl_Saturation1_step (double SigIn_1_1,
                                                               
                                                               double (*Out1_1_1)
                                                               ) {
  double Enforcelowlim_1_1;
  double Enforceuplim_1_1;
  _Bool __LONGITUDINAL_CONTROLLER_AltitudeControl_Saturation1_1;
  _Bool __LONGITUDINAL_CONTROLLER_AltitudeControl_Saturation1_2;
  
  __LONGITUDINAL_CONTROLLER_AltitudeControl_Saturation1_1 = (0.0001 >= SigIn_1_1);
  if (__LONGITUDINAL_CONTROLLER_AltitudeControl_Saturation1_1) {
    Enforcelowlim_1_1 = 0.0001;
  } else {
    Enforcelowlim_1_1 = SigIn_1_1;
  }
  __LONGITUDINAL_CONTROLLER_AltitudeControl_Saturation1_2 = (Enforcelowlim_1_1 <= 1000.);
  if (__LONGITUDINAL_CONTROLLER_AltitudeControl_Saturation1_2) {
    Enforceuplim_1_1 = Enforcelowlim_1_1;
  } else {
    Enforceuplim_1_1 = 1000.;
  }
  *Out1_1_1 = Enforceuplim_1_1;
  return;
}

void LONGITUDINAL_CONTROLLER_PitchInnerLoop_lookup1d_interpolate1d_sharp_2_step (
  double In1_1_1, double x1_1_1, double x2_1_1, double y1_1_1, double y2_1_1, 
  double (*Out1_1_1)
  ) {
  double Add1_1_1;
  double Add2_1_1;
  double Add3_1_1;
  double Add4_1_1;
  double Divide_1_1;
  
  Add4_1_1 = (In1_1_1 - x1_1_1);
  Add3_1_1 = ((- y1_1_1) + y2_1_1);
  Add1_1_1 = ((- x1_1_1) + x2_1_1);
  Divide_1_1 = ((Add4_1_1 / Add1_1_1) * Add3_1_1);
  Add2_1_1 = (Divide_1_1 + y1_1_1);
  *Out1_1_1 = Add2_1_1;
  return;
}

void LONGITUDINAL_CONTROLLER_PitchInnerLoop_lookup1d_interpolate1d_sharp_1_step (
  double In1_1_1, double x1_1_1, double x2_1_1, double y1_1_1, double y2_1_1, 
  double (*Out1_1_1)
  ) {
  double Add1_1_1;
  double Add2_1_1;
  double Add3_1_1;
  double Add4_1_1;
  double Divide_1_1;
  
  Add4_1_1 = (In1_1_1 - x1_1_1);
  Add3_1_1 = ((- y1_1_1) + y2_1_1);
  Add1_1_1 = ((- x1_1_1) + x2_1_1);
  Divide_1_1 = ((Add4_1_1 / Add1_1_1) * Add3_1_1);
  Add2_1_1 = (Divide_1_1 + y1_1_1);
  *Out1_1_1 = Add2_1_1;
  return;
}

void LONGITUDINAL_CONTROLLER_PitchInnerLoop_lookup1d_interpolate1d_sharp_0_step (
  double In1_1_1, double x1_1_1, double x2_1_1, double y1_1_1, double y2_1_1, 
  double (*Out1_1_1)
  ) {
  double Add1_1_1;
  double Add2_1_1;
  double Add3_1_1;
  double Add4_1_1;
  double Divide_1_1;
  
  Add4_1_1 = (In1_1_1 - x1_1_1);
  Add3_1_1 = ((- y1_1_1) + y2_1_1);
  Add1_1_1 = ((- x1_1_1) + x2_1_1);
  Divide_1_1 = ((Add4_1_1 / Add1_1_1) * Add3_1_1);
  Add2_1_1 = (Divide_1_1 + y1_1_1);
  *Out1_1_1 = Add2_1_1;
  return;
}

void LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_VariableLimitSaturation_step (
  double up_lim_1_1, double SigIn_1_1, double Lo_lim_1_1, 
  double (*Out1_1_1)
  ) {
  double Enforcelowlim_1_1;
  double Enforceuplim_1_1;
  _Bool __LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_VariableLimitSaturation_1;
  _Bool __LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_VariableLimitSaturation_2;
  
  __LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_VariableLimitSaturation_1 = (Lo_lim_1_1 >= SigIn_1_1);
  if (__LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_VariableLimitSaturation_1) {
    Enforcelowlim_1_1 = Lo_lim_1_1;
  } else {
    Enforcelowlim_1_1 = SigIn_1_1;
  }
  __LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_VariableLimitSaturation_2 = (Enforcelowlim_1_1 <= up_lim_1_1);
  if (__LONGITUDINAL_CONTROLLER_AltitudeControl_VariableRateLimit_VariableLimitSaturation_2) {
    Enforceuplim_1_1 = Enforcelowlim_1_1;
  } else {
    Enforceuplim_1_1 = up_lim_1_1;
  }
  *Out1_1_1 = Enforceuplim_1_1;
  return;
}

